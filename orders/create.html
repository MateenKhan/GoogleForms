<!DOCTYPE html>
<html>
  <head>
    <title>Order Create</title>
    <style>
      body {
        font-family: Arial, sans-serif;
      }
      #order-form {
        margin: 0 auto;
        width: 50%;
      }
      #order-form label {
        display: block;
        margin-top: 10px;
      }
      #order-form input[type="text"] {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <!-- <form id="create_orders_form" method="POST" action="https://script.google.com/macros/s/AKfycbztZs_iLvq8zvKNukkcLcqL7jjGMbQvZcjBCLFWMvhBGHMlw33SMoxD5YVYjRCEvcdK/exec
    "> -->
    <!-- <form id="create_orders_form" method="POST" action="https://script.google.com/macros/s/AKfycbwMVFZNwhuCXAHf_jz1o5gtxHWDfUYc2-RfJFYH_EkHw7Z_e2qz46aIJmEo1yz-2HUh/exec"> -->
        <form id="create_orders_form" method="POST">
            
      <input name="Email" type="text" placeholder="Email" required />
      <input name="Name" type="text" placeholder="Name" required />
      <input name="Phone" type="text" placeholder="Phone Number" required />
      <input
        name="Alternate"
        type="text"
        placeholder="Alternate Phone Number"
        required
      />
      <button type="submit">Send</button>
    </form>
  </body>
  <script>
    window.addEventListener("load", function () {
      const form = document.getElementById("create_orders_form");
      form.addEventListener("submit", function (e) {
        e.preventDefault();
        let submit_url =
          //   "https://script.google.com/macros/s/AKfycbztZs_iLvq8zvKNukkcLcqL7jjGMbQvZcjBCLFWMvhBGHMlw33SMoxD5YVYjRCEvcdK/exec";
          "https://script.google.com/macros/s/AKfycbwMVFZNwhuCXAHf_jz1o5gtxHWDfUYc2-RfJFYH_EkHw7Z_e2qz46aIJmEo1yz-2HUh/exec";
      
        const form_obj = new FormData(form);
        var form_data = {};
        form_obj.forEach(function (value, key) {
          form_data[key] = value;
        });

        let data = JSON.stringify(form_data);
        console.log("form_obj",form_obj)
        console.log(form_data);
        console.log(data);

        // form.submit(submit_url);

        // const xhr = new XMLHttpRequest();
        // xhr.open("POST", submit_url);
        // // xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
        // // xhr.setRequestHeader("Access-Control-Allow-Origin", "*");
        // xhr.setRequestHeader("Content-Type", "application/json; charset=UTF-8");

        // xhr.send(data);
        // xhr.onload = () => {
        //   if (xhr.readyState == 4 && xhr.status == 201) {
        //     console.log(JSON.parse(xhr.responseText));
        //   } else {
        //     console.log(`Error: ${xhr.status}`);
        //   }
        // };

        // xhr.onreadystatechange = () => {
        //   if (xhr.readyState == XMLHttpRequest.DONE) {
        //     form.reset(); //reset form after AJAX success or do something else
        //   }
        // };

        fetch(submit_url, {
          redirect: "follow",
          method: "POST",
          body: form_obj,
        //   headers: {
        //     "Content-Type": "application/json;charset=utf-8",
        //   },
        }).then(() => {
          console.log("them Created Successfully");
        })

        // fetch(submit_url, {
        //   method: "POST",
        //   body: data,
        // }).then(() => {
        //   alert("Order Created Successfully");

        // });
      });
    });
  </script>
</html>
